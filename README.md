# Freelance Dashboard

تطبيق لوحة تحكم متكامل للمستقلين (Freelancers) لإدارة مشاريعهم وعملائهم وفواتيرهم.

## ✨ الميزات

### 🏠 **لوحة التحكم الرئيسية**

- نظرة عامة على الإحصائيات
- عدد العملاء والمشاريع والفواتير
- إجمالي الإيرادات
- تنبيهات للفواتير المتأخرة
- رسوم بيانية لتقدم المشاريع

### 👥 **إدارة العملاء**

- إضافة وتعديل وحذف العملاء
- معلومات شاملة (الاسم، البريد، الهاتف)
- تاريخ الإنشاء

### 📋 **إدارة المشاريع**

- إضافة وتعديل وحذف المشاريع
- ربط المشاريع بالعملاء
- تتبع نسبة الإنجاز
- تاريخ التسليم
- ربط المشروع بالمستخدم الحالي

### 🧾 **إدارة الفواتير**

- إنشاء فواتير جديدة
- ربط الفواتير بالعملاء والمشاريع
- حساب الضريبة والإجمالي تلقائياً
- حالات متعددة (معلق، مدفوع، متأخر، ملغي)
- أرقام فواتير تلقائية (INV-000001)
- تاريخ الإصدار والاستحقاق

## 🚀 التقنيات المستخدمة

- **Frontend**: Next.js 15 + App Router
- **UI Framework**: Mantine UI
- **Database**: Supabase (PostgreSQL)
- **Authentication**: Supabase Auth
- **Styling**: CSS Modules + PostCSS
- **Language**: TypeScript

## 📦 التثبيت والتشغيل

### المتطلبات

- Node.js 18+
- Yarn أو npm
- حساب Supabase

### خطوات التثبيت

1. **استنساخ المشروع**

```bash
git clone <repository-url>
cd my-app
```

2. **تثبيت التبعيات**

```bash
yarn install
# أو
npm install
```

3. **إعداد Supabase**

   - إنشاء مشروع جديد في [Supabase](https://supabase.com)
   - نسخ `URL` و `anon key`
   - إنشاء ملف `.env.local` من `.env.example` وتحديث القيم

4. **إعداد قاعدة البيانات**

   - تشغيل SQL Editor في Supabase
   - نسخ ولصق محتوى ملف `database_schema.sql`
   - التأكد من تفعيل RLS وسياسات الجداول (موجودة في الملف)

5. **تشغيل التطبيق**

```bash
yarn dev
# أو
npm run dev
```

6. **فتح المتصفح**

```
http://localhost:3000
```

## 🔧 إعداد البيئة

أنشئ ملف `.env.local` في المجلد الجذر (أو انسخه من `.env.example`):

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

## 📊 هيكل قاعدة البيانات

### الجداول الرئيسية

- **clients**: معلومات العملاء
- **projects**: المشاريع
- **invoices**: الفواتير
- **auth.users**: المستخدمين (تلقائي من Supabase)

### العلاقات

- كل مشروع مرتبط بعميل
- كل فاتورة مرتبطة بعميل ومشروع (اختياري)
- كل مستخدم يرى فقط بياناته

## 🎨 التصميم

- واجهة عربية بالكامل (RTL)
- تصميم موحد بين جميع الصفحات
- Badges ملونة لعرض البيانات
- جداول منظمة مع إمكانية التمرير
- Modals للعمليات

## 🔒 الأمان

- Row Level Security (RLS) مفعل
- كل مستخدم يرى فقط بياناته
- Middleware للحماية وإعادة التوجيه بين `/login` و`/dashboard`
- دعم SSR عبر `@supabase/ssr` للوصول الآمن إلى الجلسة على السيرفر
- مصادقة آمنة عبر Supabase

## 🧭 ملاحظات المعمارية

- `app/layout.tsx` Server Component مع `metadata` وإدراج `logo.png` في الأيقونات وOpenGraph/Twitter.
- `components/Providers.tsx` Client Component لاحتضان Mantine.
- `middleware.ts` يحمي `/dashboard` ويعيد توجيه المستخدمين المصادقين بعيداً عن `/login`.
- `lib/supabaseServerClient.ts` للوصول إلى Supabase على السيرفر باستخدام الكوكيز.

## 🚧 التطوير المستقبلي

- [ ] توليد PDF للفواتير
- [ ] إشعارات للفواتير المتأخرة
- [ ] ربط مع PayPal/Stripe
- [ ] CRM متقدم
- [ ] تقارير شهرية مفصلة
- [ ] تطبيق موبايل

## 📝 الترخيص

هذا المشروع مفتوح المصدر ومتاح للاستخدام الشخصي والتجاري.

## 🤝 المساهمة

نرحب بالمساهمات! يرجى:

1. عمل Fork للمشروع
2. إنشاء branch جديد
3. عمل Commit للتغييرات
4. عمل Push للbranch
5. إنشاء Pull Request

## 📞 الدعم

لأي استفسارات أو مشاكل، يرجى فتح Issue في GitHub.
